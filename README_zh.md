# 行情助手

一款功能强大的Chrome浏览器扩展，实时监控股票指数和集思录市场数据，帮助投资者及时了解市场动态。 支持各种谷歌内核的浏览器：如搜狗浏览器、360浏览器等。

## 功能特性

### 股票指数监控
- **A股指数**：上证指数、深证成指、创业板指、科创50、北证50、沪深300、中证全指
- **港股指数**：恒生指数、国企指数、恒生科技指数
- **美股指数**：道琼斯指数、纳斯达克指数、标普500指数

### 市场温度监控
- **股票市场温度**：中证全指实时数据、市盈率、市净率、PE温度、PB温度
- **可转债市场温度**：可转债指数、成交额、温度、溢价温度、平均价格、中位数价格等

### 智能更新
- **自动更新**：交易时间内每10分钟自动更新数据，指数数据每5分钟更新
- **手动更新**：支持一键手动刷新最新数据
- **交易状态**：实时显示当前是否为交易时间

### 数据展示
- **双页面设计**：指数页面和温度页面，清晰展示不同类型数据
- **卡片式布局**：美观的卡片设计，支持悬停效果
- **涨跌标识**：清晰的涨跌颜色标识（红涨绿跌）
- **数据缓存**：本地存储数据，离线也能查看历史数据

## 界面预览

### 指数页面
![指数页面](img1.png)

### 温度页面
![温度页面](img2.png)

## 安装方法

### 方式一：开发者模式安装（推荐）

1. 下载或克隆本项目到本地
2. 打开Chrome浏览器，访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目的 `chrome-extension` 文件夹
6. 安装完成，点击浏览器工具栏中的扩展图标即可使用

### 方式二：打包安装

1. 在 `chrome://extensions/` 页面开启"开发者模式"
2. 点击"打包扩展程序"
3. 选择 `chrome-extension` 文件夹
4. 生成 `.crx` 文件后，拖拽到Chrome浏览器即可安装

## 使用说明

### 基本操作

1. **查看数据**：点击浏览器工具栏中的扩展图标，打开弹窗
2. **切换页面**：点击"指数"或"温度"标签页切换不同数据视图
3. **手动更新**：点击"手动更新数据"按钮获取最新数据
4. **查看状态**：顶部显示当前交易状态和最后更新时间

### 数据说明

#### 指数页面
- 显示各大指数的实时价格、涨跌值和涨跌幅
- 涨跌颜色：红色表示上涨，绿色表示下跌
- 数据来源：腾讯财经API

#### 温度页面
- **股票市场**：显示中证全指的实时数据、市盈率、市净率及温度指标
- **可转债市场**：显示可转债指数、成交额、温度、溢价温度等详细数据
- 数据来源：集思录API

### 自动更新机制

- **交易时间判断**：周一至周五 9:30-15:00 为交易时间
- **自动更新频率**：
  - 集思录数据：每10分钟更新一次
  - 指数数据：每5分钟更新一次
- **非交易时间**：自动更新暂停，仅支持手动更新

## 技术架构

### 技术栈
- **前端**：HTML5、CSS3、JavaScript (ES6+)
- **扩展API**：Chrome Extension Manifest V3
- **数据存储**：Chrome Storage API
- **定时任务**：Chrome Alarms API
- **网络请求**：Fetch API

### 项目结构

```
QuoteMonitor/
├── chrome-extension/
│   ├── manifest.json          # 扩展配置文件
│   ├── background.js           # 后台服务脚本
│   ├── popup.html              # 弹窗页面HTML
│   ├── popup.js                # 弹窗页面脚本
│   ├── popup.css               # 弹窗页面样式
│   ├── content.js              # 内容脚本
│   ├── index.html              # 独立页面HTML
│   ├── index.js                # 独立页面脚本
│   ├── index.css               # 独立页面样式
│   ├── icons/                  # 图标资源
│   │   ├── icon16.png
│   │   ├── icon48.png
│   │   ├── icon128.png
│   │   └── icon.svg
└── README_zh.md                # 中文说明文档
```

### 核心模块

#### background.js
- 负责后台数据获取和定时更新
- 处理指数数据和集思录数据的请求
- 管理交易时间判断
- 处理来自popup的消息

#### popup.js
- 负责弹窗页面的数据展示和交互
- 处理标签页切换
- 显示加载状态和错误信息
- 响应手动更新操作

#### content.js
- 在集思录网页上下文中执行
- 绕过CORS限制获取数据
- 处理跨域请求

## 数据源

### 股票指数数据
- **来源**：腾讯财经API
- **接口**：`https://qt.gtimg.cn/q={指数代码}`
- **更新频率**：每5分钟

### 集思录市场数据
- **来源**：集思录官网
- **股票温度接口**：`https://www.jisilu.cn/data/indicator/get_last_indicator/`
- **可转债接口**：`https://www.jisilu.cn/webapi/cb/index_quote/`
- **更新频率**：每10分钟

## 常见问题

### Q: 数据更新不及时？
A: 请检查网络连接，或点击"手动更新数据"按钮强制刷新。交易时间内会自动更新，非交易时间仅支持手动更新。

### Q: 显示"暂无数据"？
A: 可能是网络问题或API接口暂时不可用，请稍后重试或手动更新数据。

### Q: 指数数据不准确？
A: 数据来源于第三方API，可能存在延迟。建议以官方数据为准。

### Q: 如何卸载扩展？
A: 在 `chrome://extensions/` 页面找到"行情助手"，点击"移除"即可。

## 开发说明

### 本地开发

1. 克隆项目到本地
2. 在Chrome中加载 `chrome-extension` 文件夹
3. 修改代码后，在扩展页面点击"重新加载"按钮
4. 打开扩展进行测试

### 调试技巧

- **后台脚本调试**：在 `chrome://extensions/` 页面点击"Service Worker"链接
- **弹窗调试**：右键点击弹窗，选择"检查"
- **查看日志**：在开发者工具的Console中查看详细日志


## 版本历史

### v1.0 (2026-02-09)
- 初始版本发布
- 支持A股、港股、美股指数监控
- 支持集思录股票和可转债市场温度监控
- 实现自动定时更新和手动更新功能
- 双页面设计，优化用户体验

## 许可证

本项目仅供学习和个人使用。

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 联系方式

如有问题或建议，请通过GitHub Issues联系。

## 免责声明

本扩展提供的数据仅供参考，不构成任何投资建议。投资有风险，入市需谨慎。请以官方数据为准，对使用本扩展造成的任何损失，作者不承担责任。
